<script>
  document.addEventListener("DOMContentLoaded", function() {
    const downloadLink = document.getElementById("downloadLink") as HTMLAnchorElement;
    if (downloadLink) {
      downloadLink.addEventListener("click", function(event) {
        event.preventDefault();
        fetch(this.href)
          .then(response => response.blob())
          .then(blob => {
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = 'que.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
          })
          .catch(err => console.error('Error al descargar el archivo:', err));
      });
    }
  });
</script>
